
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Ounce of Rust Project Manual Rev. B</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="ounce-of-rust-project-manual">
<h1>Ounce of Rust Project Manual<a class="headerlink" href="#ounce-of-rust-project-manual" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-introduction"></span><div class="section" id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="purpose-of-this-manual">
<h3>1.1. Purpose of this Manual<a class="headerlink" href="#purpose-of-this-manual" title="Permalink to this headline">¶</a></h3>
<p>This is the manual for the Ounce of Rust project. This manual describes in detail the
objectives, requirements, and design considerations of the project providing a
central location for this information. This is invaluable for understanding the
project’s scope, planning the project’s milestones, and creating the project’s
deliverables.</p>
<p>Anyone who is involved with this project is encouraged to read this manual and
keep a copy handy while they are working on the project.</p>
</div>
<div class="section" id="scope-of-the-project">
<h3>1.2. Scope of the Project<a class="headerlink" href="#scope-of-the-project" title="Permalink to this headline">¶</a></h3>
<p>The main deliverable of the Ounce of Rust project is a Rust library that provides
common Tic Tac Toe logic that can be used by other Rust applications. While there
are existing libraries that provide similar functionality, this project provides
an opportunity to gain experience with Rust, its ecosystem, and general software
development practices.</p>
</div>
<div class="section" id="overview-of-this-manual">
<h3>1.3. Overview of this Manual<a class="headerlink" href="#overview-of-this-manual" title="Permalink to this headline">¶</a></h3>
<p>There are three main parts to this manual. <a class="footnote-reference brackets" href="#a" id="id1">1</a> The <a class="reference internal" href="singlepage.html#document-overview/index"><span class="doc">Overview</span></a>
chapter provides a general overview of the problems this project is intended to
address and how the project addresses these problems. The <a class="reference internal" href="singlepage.html#document-requirements/index"><span class="doc">Requirements</span></a>
chapter specifies the requirements of the project. The <a class="reference internal" href="singlepage.html#document-design/index"><span class="doc">Design</span></a> chapter
describes how the project’s deliverables are designed to fulfill the requirements.</p>
<p>Additionally, the <a class="reference internal" href="singlepage.html#document-glossary"><span class="doc">Glossary</span></a> defines terms that are used throughout this
manual.</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="a"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The structure of this manual is influenced by <a class="reference internal" href="singlepage.html#berezin-1999" id="id2"><span>[Berezin-1999]</span></a>.</p>
</dd>
</dl>
</div>
</div>
<span id="document-overview/index"></span><div class="section" id="overview">
<h2>2. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The overview chapter provides a high level summary of the project.</p>
<div class="toctree-wrapper compound">
<span id="document-overview/objectives"></span><div class="section" id="objectives-of-the-project">
<h3>2.1. Objectives of the Project<a class="headerlink" href="#objectives-of-the-project" title="Permalink to this headline">¶</a></h3>
<p>The Ounce of Rust project intends to accomplish several objectives.
This section describes these objectives.</p>
<div class="section" id="create-reusable-library-to-speed-development-of-tic-tac-toe-games">
<h4>2.1.1. Create Reusable Library to Speed Development of Tic Tac Toe Games<a class="headerlink" href="#create-reusable-library-to-speed-development-of-tic-tac-toe-games" title="Permalink to this headline">¶</a></h4>
<p>The result of this project is a reusable library that provides a core set of
functionality that speeds development of future Tic Tac Toe games. Core
functionality includes game state management and artificial intelligence
algorithms. The user interface for Tic Tac Toe games is outside the objectives
of this project.</p>
</div>
<div class="section" id="make-the-library-open-source-and-widely-available">
<h4>2.1.2. Make the Library Open Source and Widely Available<a class="headerlink" href="#make-the-library-open-source-and-widely-available" title="Permalink to this headline">¶</a></h4>
<p>The resulting library is released under a permissive open source license and
made widely available. This includes placing the code on a public repository
such as <a class="reference external" href="https://github.com/">https://github.com/</a> and in Rust’s package registry,
<a class="reference external" href="https://crates.io/">https://crates.io/</a>.</p>
</div>
<div class="section" id="learn-about-rust">
<span id="ref-learn-about-rust-objective"></span><h4>2.1.3. Learn About Rust<a class="headerlink" href="#learn-about-rust" title="Permalink to this headline">¶</a></h4>
<p>Rust is a modern statically typed systems programming language that has a focus
on safety. Its mix of high level concepts, ability to avoid entire categories
of bugs, and focus on correctness has made Rust an increasingly popular language.</p>
<p>Even though Rust is unlikely to replace C and C++ any time soon, Rust’s
concepts, such as traits, error handling, and memory management systems are
worth learning to help expand ones general programming knowledge. <a class="footnote-reference brackets" href="#rustdocs" id="id1">1</a></p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="rustdocs"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The Rust official documentation is likely to be helpful for
meeting this objective. For details see <a class="reference internal" href="singlepage.html#rust-docs" id="id2"><span>[Rust-Docs]</span></a>.</p>
</dd>
</dl>
</div>
</div>
<span id="document-overview/current-system"></span><div class="section" id="current-system">
<h3>2.2. Current System<a class="headerlink" href="#current-system" title="Permalink to this headline">¶</a></h3>
<p>Tic Tac Toe is a game where two players, X and O, take turns placing their mark
in a gird. The first player to get three marks in a row, column, or diagonal
wins the game. The game can also end in a draw, known as a “cat’s game”.
An example of a Tic Tac Toe game is shown in <a class="reference internal" href="#fig-tic-tac-toe-example-game"><span class="std std-numref">Figure 2.1</span></a>.</p>
<div class="figure align-default" id="id1">
<span id="fig-tic-tac-toe-example-game"></span><img alt="An example Tic Tac Toe game" src="_images/tic-tac-toe-example-game.svg" /><p class="caption"><span class="caption-number">Figure 2.1 </span><span class="caption-text">An example game of Tic Tac Toe where player X is victorious.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="pencil-and-paper">
<h4>2.2.1. Pencil and Paper<a class="headerlink" href="#pencil-and-paper" title="Permalink to this headline">¶</a></h4>
<p>Traditionally Tic Tac Toe is played by two players using pencil and paper.
This is a quick and convenient way to play with a friend. However, this does not
allow for single player games. For people stuck on an airplane this can lead to
extreme boredom!</p>
</div>
<div class="section" id="computer-games">
<h4>2.2.2. Computer Games<a class="headerlink" href="#computer-games" title="Permalink to this headline">¶</a></h4>
<p>Tic Tac Toe computer games allow for single player versions of the game. There
are many versions of the game created over the years.
<a class="reference internal" href="#fig-ttt-screen-shot"><span class="std std-numref">Figure 2.2</span></a> shows a screen shot from one of the classic
Tic Tac Toe games.</p>
<div class="figure align-default" id="id2">
<span id="fig-ttt-screen-shot"></span><img alt="Screen shot of a Tic Tac Toe computer game." src="_images/ttt-screen-shot.png" />
<p class="caption"><span class="caption-number">Figure 2.2 </span><span class="caption-text">Screen shot of <a class="reference external" href="https://www.imaginaryphase.com/ttt.html">Tic Tac Toe</a>
developed by James Richey.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>These games can be developed as stand alone applications or can be created with
the help of supporting libraries.</p>
</div>
<div class="section" id="supporting-libraries">
<h4>2.2.3. Supporting Libraries<a class="headerlink" href="#supporting-libraries" title="Permalink to this headline">¶</a></h4>
<p>To support the creation of Tic Tac Toe games many libraries have been developed
to provide common functionality. Searching Rust’s package registry,
<a class="reference external" href="https://crates.io/">https://crates.io/</a>, reveals several such libraries including <code class="docutils literal notranslate"><span class="pre">ultimate-ttt</span></code>,
<code class="docutils literal notranslate"><span class="pre">zero_sum</span></code>, and <code class="docutils literal notranslate"><span class="pre">minimax</span></code>.</p>
<p>With the wide variety of libraries available, for both Rust and other languages,
there is likely one that meets the needs of Tic Tac Toe application developers.
However, due to the <a class="reference internal" href="singlepage.html#ref-learn-about-rust-objective"><span class="std std-ref">Learn About Rust</span></a> objective, it is worth
going through the effort to create another Tic Tac Toe library.</p>
</div>
</div>
<span id="document-overview/proposed-system"></span><div class="section" id="proposed-system">
<h3>2.3. Proposed System<a class="headerlink" href="#proposed-system" title="Permalink to this headline">¶</a></h3>
<p>This project creates a Rust library that application developers can use to create
Tic Tac Toe games. The library contains common Tic Tac Toe functionality such as
game state management and single player support. The library
exposes this functionality through a well defined and documented API.
The library is open source and is available in Rust’s package registry
<a class="reference external" href="https://crates.io/">https://crates.io/</a>.</p>
<p>By using this library, application developers can focus on making flashy graphics
or other unique Tic Tac Toe experiences without worrying about the underlying game
logic or artificial intelligence algorithms.</p>
<div class="section" id="game-state-and-board-management">
<h4>2.3.1. Game State and Board Management<a class="headerlink" href="#game-state-and-board-management" title="Permalink to this headline">¶</a></h4>
<p>A common task of Tic Tac Toe games is managing the state of the game. This
includes knowing which player takes the next turn, ensuring players cannot mark
a previously marked square, and checking for victory conditions.</p>
</div>
<div class="section" id="ai-players">
<h4>2.3.2. AI Players<a class="headerlink" href="#ai-players" title="Permalink to this headline">¶</a></h4>
<p>The library allows single player Tic Tac Toe games to be created by providing
AI players. These players use artificial intelligence algorithms that pick a
square to place the AI player’s mark. The application developer has control over
how difficult it is win over the AI player.</p>
</div>
<div class="section" id="available-on-crates-io">
<h4>2.3.3. Available on crates.io<a class="headerlink" href="#available-on-crates-io" title="Permalink to this headline">¶</a></h4>
<p>The library is available on <a class="reference external" href="https://crates.io/">https://crates.io/</a>, the source code released
under a permissive open source license, and the API documentation is hosted
on a publicly accessible website.</p>
</div>
<div class="section" id="deliverables">
<h4>2.3.4. Deliverables<a class="headerlink" href="#deliverables" title="Permalink to this headline">¶</a></h4>
<p>The project deliverables are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">open_ttt_lib</span></code> package. <a class="footnote-reference brackets" href="#a" id="id1">1</a></p></li>
<li><p>API documentation. <a class="footnote-reference brackets" href="#b" id="id2">2</a></p></li>
<li><p>Source code available on a public repository with a tagged release.</p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="a"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Future projects built around <code class="docutils literal notranslate"><span class="pre">open_ttt_lib</span></code> may use <code class="docutils literal notranslate"><span class="pre">open_ttt</span></code> as
part of their package name.</p>
</dd>
<dt class="label" id="b"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Popular places to host Rust API documentation include <a class="reference external" href="https://docs.rs/">https://docs.rs/</a>
and <a class="reference external" href="https://pages.github.com/">https://pages.github.com/</a>.</p>
</dd>
</dl>
</div>
</div>
<span id="document-overview/interactions-other-systems"></span><div class="section" id="interactions-with-other-systems">
<h3>2.4. Interactions with Other Systems<a class="headerlink" href="#interactions-with-other-systems" title="Permalink to this headline">¶</a></h3>
<p>The Tic Tac Toe library is intended to be used in other user facing applications.
This includes, but is not limited to, stand alone graphical applications, command
line applications, or even as a mini-game in a larger video game. The diagram in
<a class="reference internal" href="#uml-interaction-diagram"><span class="std std-numref">Figure 2.3</span></a> shows how the library is used by other systems.</p>
<div class="figure align-default" id="id1">
<span id="uml-interaction-diagram"></span><p class="plantuml">
<img src="_images/plantuml-878cef824c7daa6b80eadf97bb4f0c0ade1bb633.svg" alt="[TTT GUI] --&gt; [open_ttt_lib]
[TTT CLI] --&gt; [open_ttt_lib]
[TTT Mini Game] --&gt; [open_ttt_lib]"/></p>
<p class="caption"><span class="caption-number">Figure 2.3 </span><span class="caption-text">Diagram showing how the library is used by other applications.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The other applications link directly to <code class="docutils literal notranslate"><span class="pre">open_ttt_lib</span></code>. The library does not
provide any ways of remote access, e.g. via a network interface, and it does not
save any state the computer’s persistent storage.</p>
</div>
<span id="document-overview/users"></span><div class="section" id="user-roles-and-responsibilities">
<h3>2.5. User Roles and Responsibilities<a class="headerlink" href="#user-roles-and-responsibilities" title="Permalink to this headline">¶</a></h3>
<p>This section describes the users of the Tic Tac Toe library.</p>
<div class="section" id="rust-application-developer">
<span id="index-0"></span><h4>2.5.1. Rust Application Developer<a class="headerlink" href="#rust-application-developer" title="Permalink to this headline">¶</a></h4>
<p>The Rust application developer uses the library to create awesome Tic Tac Toe
games.</p>
<p class="rubric">Responsibilities</p>
<ul class="simple">
<li><p>Connect the library to a Tic Tac Toe user interface.</p></li>
<li><p>Read the library’s documentation to determine how to use the library.</p></li>
<li><p>Debug the application when it does not run as expected.</p></li>
</ul>
</div>
<div class="section" id="tic-tac-toe-player">
<span id="index-1"></span><h4>2.5.2. Tic Tac Toe Player<a class="headerlink" href="#tic-tac-toe-player" title="Permalink to this headline">¶</a></h4>
<p>The Tic Tac Toe player is an indirect user of the library. They use the
application created by the Rust application developer to play an exciting game of
Tic Tac Toe.</p>
<p class="rubric">Responsibilities</p>
<ul class="simple">
<li><p>Challenge a friend to a game of Tic Tac Toe.</p></li>
<li><p>Attempt to win against the computer.</p></li>
</ul>
</div>
</div>
</div>
</div>
<span id="document-requirements/index"></span><div class="section" id="requirements">
<h2>3. Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>This chapter describes the detailed requirements of the Tic Tac Toe library.
This includes the rules for playing Tic Tac Toe and user stories describing how
the library is used.</p>
<div class="toctree-wrapper compound">
<span id="document-requirements/ttt-rules"></span><div class="section" id="rules-of-tic-tac-toe">
<h3>3.1. Rules of Tic Tac Toe<a class="headerlink" href="#rules-of-tic-tac-toe" title="Permalink to this headline">¶</a></h3>
<p>The Tic Tac Toe library provides functionality for managing the game and
ensuring players only make valid moves. This requires the library’s logic to know
the rules of Tic Tac Toe. The rules for Tic Tac Toe are as follows:</p>
<ol class="arabic">
<li><p>Play occurs on a board composed of a 3 x 3 grid of squares. The board starts
empty with no marks.</p></li>
<li><p>The first player places their mark in one of the grid’s squares. Traditionally,
the mark is the letter <em>X</em>.</p></li>
<li><p>The second player places their mark in one of the grid’s empty squares. A square
that already contains a mark cannot be updated or altered. Traditionally, the
second player uses the letter <em>O</em> as their mark.</p></li>
<li><p>Turns alternate between the players until the game is over.</p></li>
<li><p>The first player to get three of their marks in a line wins the game.
That is: they have three marks in a row, column, or diagonally.
Examples of winning games are shown in <a class="reference internal" href="#fig-example-wining-games"><span class="std std-numref">Figure 3.1</span></a>.</p>
<div class="figure align-default" id="id1">
<span id="fig-example-wining-games"></span><img alt="Examples of winning Tic Tac Toe games." src="_images/example-wining-games.svg" /><p class="caption"><span class="caption-number">Figure 3.1 </span><span class="caption-text">Examples of winning Tic Tac Toe games showing player X winning by getting
three marks a row, diagonal, and column. The red line shows the squares
that contributed to the win. Notice that it is possible to get multiple
sets of three marks in a row.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>The game ends in a draw, known as a <span class="target" id="index-0"></span>cat’s game, if no more empty squares
remain and a player has failed to get three marks in a line. Examples of cat’s
games are shown in <a class="reference internal" href="#fig-example-cats-games"><span class="std std-numref">Figure 3.2</span></a>.</p>
<div class="figure align-default" id="id2">
<span id="fig-example-cats-games"></span><img alt="Examples of winning Tic Tac Toe games." src="_images/example-cats-games.svg" /><p class="caption"><span class="caption-number">Figure 3.2 </span><span class="caption-text">Examples of Tic Tac Toe games ending in a cat’s game. No player managed
to get three marks in a line.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</li>
</ol>
</div>
<span id="document-requirements/user-stories"></span><div class="section" id="user-stories">
<h3>3.2. User Stories<a class="headerlink" href="#user-stories" title="Permalink to this headline">¶</a></h3>
<p>User stories are informal descriptions of the software’s features. These
stories are written from the perspective of the users roles described in
<a class="reference internal" href="singlepage.html#document-overview/users"><span class="doc">User Roles and Responsibilities</span></a>. The general format is:</p>
<blockquote>
<div><p>As a &lt;user&gt; I want &lt;goal/desire&gt; so that &lt;benefit&gt;.</p>
</div></blockquote>
<p>This section contains the user stories identified for this project.</p>
<div class="section" id="game-state-management">
<span id="ref-game-state-management-story"></span><h4>3.2.1. Game State Management<a class="headerlink" href="#game-state-management" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to contain functionality for managing the state of the game,</div>
<div class="line">so I can focus on creating engaging user experiences.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library exposes APIs for getting the current state and updating the state
of the game. This includes functionality for checking the victory condition
and determining the winner of the game, if any.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>The design details of the APIs are outside the scope of this requirements chapter.</p>
</div>
<div class="section" id="know-squares-that-contributed-to-player-s-victory">
<span id="ref-know-victory-squares-story"></span><h4>3.2.2. Know Squares that Contributed to Player’s Victory<a class="headerlink" href="#know-squares-that-contributed-to-player-s-victory" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want to know what squares contributed to the player’s victory,</div>
<div class="line">so I can draw a line through them or mark them in a special color.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>When a player has won the game there is a way to obtain the board’s squares
that contributed to the victory.</p></li>
<li><p>If the player won by getting multiple sets of squares as shown in
<a class="reference internal" href="singlepage.html#fig-example-wining-games"><span class="std std-numref">Figure 3.1</span></a> then all square that contributed to the
win are available.</p></li>
</ul>
</div>
<div class="section" id="stable-library-api">
<span id="ref-stable-library-api-story"></span><span id="index-0"></span><h4>3.2.3. Stable Library API<a class="headerlink" href="#stable-library-api" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to have a stable API,</div>
<div class="line">so that my application does not unexpectedly break if I use a different version of the library.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library uses semantic versioning to clearly communicate when there are API
changes. <a class="footnote-reference brackets" href="#semver" id="id1">1</a></p></li>
<li><p>There are integration tests that help library developers detect if the
library’s API changes.</p></li>
</ul>
</div>
<div class="section" id="ai-player">
<span id="ref-ai-player-story"></span><span id="index-1"></span><h4>3.2.4. AI Player<a class="headerlink" href="#ai-player" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Tic Tac Toe player,</div>
<div class="line">I want to play against the computer,</div>
<div class="line">as I do not always have a friend to play with.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library provides an AI player that Rust application developers can
incorporate into their applications.</p></li>
</ul>
</div>
<div class="section" id="ai-difficulty-settings">
<span id="ref-ai-difficulty-settings-story"></span><h4>3.2.5. AI Difficulty Settings<a class="headerlink" href="#ai-difficulty-settings" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Tic Tac Toe player,</div>
<div class="line">I want different AI difficulty settings,</div>
<div class="line">so I can play a challenging yet winnable game of Tic Tac Toe.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The difficulty for AI players can be configured by the Rust application developer.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>The difficulty can be thought of as a probability of how likely the AI will make
a mistake.</p>
</div>
<div class="section" id="players-take-turns-having-the-first-move">
<span id="ref-players-take-turns-having-first-move-story"></span><h4>3.2.6. Players Take Turns Having the First Move<a class="headerlink" href="#players-take-turns-having-the-first-move" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Tic Tac Toe player,</div>
<div class="line">I want to have the first move on the next game if I did not have the first move this game,</div>
<div class="line">so I have a better chance of winning the next game.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The game logic ensures the starting player alternates between games.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>The player who takes the first move has more wining possibilities than the
second player. <a class="footnote-reference brackets" href="#winingmoves" id="id2">2</a></p>
</div>
<div class="section" id="maximum-ai-update-time">
<span id="ref-maximum-ai-update-time-story"></span><h4>3.2.7. Maximum AI Update Time<a class="headerlink" href="#maximum-ai-update-time" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the AI to block for less than one frame when picking a square,</div>
<div class="line">so it does not block my rendering thread making my animations choppy.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>There is a benchmark that measures the worst case time the AI blocks while
picking a square.</p></li>
<li><p>How to run the benchmark is documented so developers can quickly evaluate this
library to see if it meets their needs.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>Frame times can vary greatly depending on platform and application. For example,
an update time of one second might be just fine for a casual Tic Tac Toe game.
However, a Tick Tac Toe mini-game in a modern FPS is expected to take just a
fraction of the 1/144 second frame time. Therefore, providing the tools to allow
the Rust application developer to see if this library meets their needs is
sufficient to fulfill this requirement.</p>
</div>
<div class="section" id="getting-started-example">
<span id="ref-getting-started-example-story"></span><h4>3.2.8. Getting Started Example<a class="headerlink" href="#getting-started-example" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want an example of getting started with the library,</div>
<div class="line">so I can quickly start integrating the library into my application.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>There is a runnable example of using the library.</p></li>
<li><p>The example is in a prominent location such as library’s documentation
home page.</p></li>
</ul>
</div>
<div class="section" id="detailed-library-documentation">
<span id="ref-detailed-library-documentation-story"></span><h4>3.2.9. Detailed Library Documentation<a class="headerlink" href="#detailed-library-documentation" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want detailed and thorough library documentation,</div>
<div class="line">so I can determine how to use the library for my specific needs.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>All public modules and their members are documented using Rust’s documentation
comments.</p></li>
<li><p>The documentation contains the typical sections such as <strong>Panics</strong> and <strong>Errors</strong>.</p></li>
<li><p>The documentation is accessible from the internet, such as being hosted on
<a class="reference external" href="https://docs.rs">https://docs.rs</a>.</p></li>
</ul>
</div>
<div class="section" id="ref-idiomatic-rust-apis-story">
<span id="idiomatic-rust-apis"></span><h4>3.2.10. Idiomatic Rust APIs<a class="headerlink" href="#ref-idiomatic-rust-apis-story" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to provide idiomatic Rust APIs,</div>
<div class="line">so the library works in natural and familiar way.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The Rust API Guidelines are consulted when designing the library’s API. <a class="footnote-reference brackets" href="#rustapiguidelines" id="id3">3</a></p></li>
<li><p>An experienced Rust programmer code reviews and signs off on the library’s API.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>API design can be subjective. However, providing an idiomatic Rust API is important
to fulfilling the <a class="reference internal" href="singlepage.html#ref-learn-about-rust-objective"><span class="std std-ref">Learn About Rust</span></a> objective. Therefore,
obtaining the opinions of an experienced Rust programmer helps ensure the resulting
design is reasonable and idiomatic.</p>
</div>
<div class="section" id="cross-platform-support">
<span id="ref-cross-platform-support-story"></span><h4>3.2.11. Cross Platform Support<a class="headerlink" href="#cross-platform-support" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to work on a variety of platforms,</div>
<div class="line">so I can make Tic Tac Toe games for a wider use base.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library is tested and verified on two different platforms such as
Windows 10 and Linux.</p></li>
</ul>
<p class="rubric">Notes</p>
<p>The use of platform specific code is minimized, however, the number of platforms
the library is tested on may be limited due to resource constraints.</p>
</div>
<div class="section" id="available-on-crates-io">
<span id="ref-available-on-crates-io-story"></span><span id="index-2"></span><h4>3.2.12. Available on crates.io<a class="headerlink" href="#available-on-crates-io" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to be on Rust’s package registry, <a class="reference external" href="https://crates.io/">https://crates.io/</a>,</div>
<div class="line">so that I can easily incorporate it into my Rust based application with Cargo.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library is hosted on crates.io.</p></li>
<li><p>The library can be obtained by simply specifying it as a dependency in a
package’s <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code>.</p></li>
</ul>
</div>
<div class="section" id="source-available-on-github">
<span id="ref-source-available-on-github-story"></span><span id="index-3"></span><h4>3.2.13. Source Available on GitHub<a class="headerlink" href="#source-available-on-github" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library’s source code to be available on <a class="reference external" href="https://github.com/">GitHub</a></div>
<div class="line">so I can view the source code to get a better understanding of how the library works.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library’s source code is hosted on a public GitHub repository.</p></li>
<li><p>The library’s tags match the releases on crates.io.</p></li>
</ul>
</div>
<div class="section" id="permissive-license">
<span id="ref-permissive-license-story"></span><h4>3.2.14. Permissive License<a class="headerlink" href="#permissive-license" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">As a Rust application developer,</div>
<div class="line">I want the library to be licensed under a permissive open source license,</div>
<div class="line">so that I can incorporate the library into my application without worrying about legal issues.</div>
</div>
<p class="rubric">Acceptance Criteria</p>
<ul class="simple">
<li><p>The library is released under a permissive open source license. The MIT license
fulfills this requirement.</p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="semver"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See <a class="reference external" href="https://semver.org/">https://semver.org/</a> for details on semantic versioning.</p>
</dd>
<dt class="label" id="winingmoves"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>The player with the first move has about double the number of
winning possibilities. For details see
<a class="reference external" href="https://en.wikipedia.org/wiki/Tic-tac-toe">Wikipedia’s Tic-tac-toe page</a>.</p>
</dd>
<dt class="label" id="rustapiguidelines"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>See the <a class="reference internal" href="singlepage.html#rust-api-guidelines" id="id4"><span>[Rust-API-Guidelines]</span></a> for details.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<span id="document-design/index"></span><div class="section" id="design">
<h2>4. Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<p>This chapter provides design details for the Tic Tac Toe library. This includes
user facing areas such as the library’s API and internal algorithms.</p>
<div class="toctree-wrapper compound">
<span id="document-design/public-api"></span><div class="section" id="public-api">
<span id="index-0"></span><h3>4.1. Public API<a class="headerlink" href="#public-api" title="Permalink to this headline">¶</a></h3>
<p>This section describes the public API of the library. The provided types and
functions are used by other applications to create Tic Tac Toe games. The legend
shown in <a class="reference internal" href="#uml-public-api-diagram-legend"><span class="std std-numref">Figure 4.1</span></a> is used for the type diagrams
in this section.</p>
<div class="figure align-default" id="id6">
<span id="uml-public-api-diagram-legend"></span><p class="plantuml">
<img src="_images/plantuml-101269ad3b71f8419eb1fa379618795a9fae17bf.svg" alt="hide members

package Module {

}
interface Trait
class Struct {
    +field
    +method()
}

enum Enum {
    EnumVariant
}

show Struct members
show Enum fields

' Hidden links are used to help with the diagram's layout.
Module -[hidden] Trait
Trait -[hidden] Struct
Struct -[hidden] Enum"/></p>
<p class="caption"><span class="caption-number">Figure 4.1 </span><span class="caption-text">Legend used for the type diagrams in this section.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>An overview of the major public types is shown in <a class="reference internal" href="#uml-public-api-overview"><span class="std std-numref">Figure 4.2</span></a>.</p>
<div class="figure align-default" id="id7">
<span id="uml-public-api-overview"></span><p class="plantuml">
<img src="_images/plantuml-16cbb27f08fbf7259c9a38eddf0bbda0e647f73c.svg" alt="hide members

package open_ttt_lib {
    enum Owner
    enum State

    Game *-- Board
    Game *-- State

    Board &quot;1..*&quot; *-- Position
    Board &quot;1..*&quot; *-- Owner
    Game &lt;. AIOpponent
}"/></p>
<p class="caption"><span class="caption-number">Figure 4.2 </span><span class="caption-text">Major public modules, structures, and other types. Note: the
module contains additional supporting types that are not shown here.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The library contains a single public module that holds the public types. The
naming conventions used in this library follow those described in the Rust API
Guidelines <a class="footnote-reference brackets" href="#rustapiguidelines" id="id1">1</a> per the <a class="reference internal" href="singlepage.html#ref-idiomatic-rust-apis-story"><span class="std std-ref">Idiomatic Rust APIs</span></a>
user story.</p>
<p>Each of the major and supporting types are described below.</p>
<div class="section" id="game-management">
<span id="index-1"></span><h4>4.1.1. Game Management<a class="headerlink" href="#game-management" title="Permalink to this headline">¶</a></h4>
<p>Game management is handled by the Game structure. This structure is one of the
central types provided by the library. It contains the state machine logic,
holds the underlying game board, and enforces the rules of Tic Tac Toe.
<a class="reference internal" href="#uml-game-management"><span class="std std-numref">Figure 4.3</span></a> shows the Game structure and other types related
to management of Tic Tac Toe games.</p>
<div class="figure align-default" id="id8">
<span id="uml-game-management"></span><p class="plantuml">
<img src="_images/plantuml-e0bff4a04ca4db57cc17a507407b8e9ac4001cce.svg" alt="hide empty fields
hide empty methods

class Game {
    +new()
    +board() -&gt; Board
    +state() -&gt; State
    +free_positions() -&gt; FreePositions
    +can_move(Position) -&gt; bool
    +do_move(Position) -&gt; Result&lt;State, InvalidMoveError&gt;
    +start_next_game() -&gt; State
}

enum State {
    PlayerXMove
    PlayerOMove
    PlayerXWin[HashSet&lt;Position&gt;]
    PlayerOWin[HashSet&lt;Position&gt;]
    CatsGame

    +is_game_over() -&gt; bool
}

class FreePositions &lt;&lt; Iterator &gt;&gt; {
    +Item: Position
    +next() -&gt; Option&lt;Item&gt;
}

class InvalidMoveError &lt;&lt; Error &gt;&gt; {

}

Game *-- Board
Game *-- State
FreePositions --[hidden] InvalidMoveError"/></p>
<p class="caption"><span class="caption-number">Figure 4.3 </span><span class="caption-text">The Game structure contains a State and a Board.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>A state machine is used determine which player has the next move or when the game
is over. The state diagram is shown in <a class="reference internal" href="#uml-game-state-diagram"><span class="std std-numref">Figure 4.4</span></a>.</p>
<div class="figure align-default" id="id9">
<span id="uml-game-state-diagram"></span><p class="plantuml">
<img src="_images/plantuml-54833c3598e19d85d75d20dd988336c5557b179e.svg" alt="hide empty description

[*] --&gt; PlayerXMove
[*] --&gt; PlayerOMove

PlayerXMove --&gt; PlayerOMove
PlayerXMove --&gt; PlayerXWin
PlayerXMove --&gt; CatsGame

PlayerOMove --&gt; PlayerXMove
PlayerOMove --&gt; PlayerOWin
PlayerOMove --&gt; CatsGame"/></p>
<p class="caption"><span class="caption-number">Figure 4.4 </span><span class="caption-text">State diagram of a Tic Tac Toe game.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>When a new game starts either player X or player O takes the first turn.
The players alternate making their moves until one of the end game conditions is
encountered. The player that did not have the first turn last game takes the
first turn next game.</p>
<div class="section" id="struct-game">
<h5>4.1.1.1. Struct Game<a class="headerlink" href="#struct-game" title="Permalink to this headline">¶</a></h5>
<p>Members of the Game structure are as follows:</p>
<dl class="simple">
<dt>new()</dt><dd><p>Creates a new Tic Tac Toe game structure. Note: use <code class="docutils literal notranslate"><span class="pre">start_next_game()</span></code> for
playing consecutive games to ensure each player gets to start the game.</p>
</dd>
<dt>board()</dt><dd><p>Gets the board associated with the game.</p>
</dd>
<dt>state()</dt><dd><p>Gets the current state of the game.</p>
</dd>
<dt>free_positions()</dt><dd><p>Gets an iterator over the free positions that do not have an owner and thus
can be provided to <code class="docutils literal notranslate"><span class="pre">do_move()</span></code>. When the game is over there are no free
positions.</p>
</dd>
<dt>can_move()</dt><dd><p>Indicates if the square at the indicated position can be marked as owned.
That is, if <code class="docutils literal notranslate"><span class="pre">can_move()</span></code> returns <code class="docutils literal notranslate"><span class="pre">true</span></code> for a given position then
<code class="docutils literal notranslate"><span class="pre">do_move()</span></code> is guaranteed to be successful.</p>
</dd>
<dt>do_move()</dt><dd><p>Marks the indicated square as being owned by the current player. The state
of the game is updated as a side effect of <code class="docutils literal notranslate"><span class="pre">do_move()</span></code> and the new state
of the game is returned. An error is returned if the position is already
owned or if the game is over.</p>
</dd>
<dt>start_next_game()</dt><dd><p>Starts the next game by resetting the state machine ensuring the player who
went second last game goes first next game. This can be called at any time
even if the current game is not over. The new state of the game is returned.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Clone <a class="footnote-reference brackets" href="#clonecopy" id="id2">2</a></p></li>
</ul>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#document-requirements/ttt-rules"><span class="doc">Rules of Tic Tac Toe</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-game-state-management-story"><span class="std std-ref">Game State Management</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-players-take-turns-having-first-move-story"><span class="std std-ref">Players Take Turns Having the First Move</span></a></p></li>
</ul>
</div>
<div class="section" id="enum-sate">
<span id="index-2"></span><h5>4.1.1.2. Enum Sate<a class="headerlink" href="#enum-sate" title="Permalink to this headline">¶</a></h5>
<p>The game state enumeration contains a variant for each possible game state
described in <a class="reference internal" href="#uml-game-state-diagram"><span class="std std-numref">Figure 4.4</span></a> along with some additional helper
methods.</p>
<dl class="simple">
<dt>PlayerXMove</dt><dd><p>Player X’s turn to mark a free position.</p>
</dd>
<dt>PlayerOMove</dt><dd><p>Player O’s turn to mark a free position.</p>
</dd>
<dt>PlayerXWin[HashSet&lt;position&gt;]</dt><dd><p>Player X has won the game. The set of positions that contributed to the win
are provided as the enum value.</p>
</dd>
<dt>PlayerOWin[HashSet&lt;position&gt;]</dt><dd><p>Player O has won the game. The set of positions that contributed to the win
are provided as the enum value.</p>
</dd>
<dt>CatsGame</dt><dd><p>The game has ended in a draw where there are no winners.</p>
</dd>
<dt>is_game_over()</dt><dd><p>Indicates if the state represents one of the game over states. That is,
if either player has won or it is a cat’s game then <code class="docutils literal notranslate"><span class="pre">true</span></code> is returned;
otherwise, <code class="docutils literal notranslate"><span class="pre">false</span></code> is returned.</p>
</dd>
</dl>
<p>The set of positions provided to <code class="docutils literal notranslate"><span class="pre">PlayerXWin</span></code> and  <code class="docutils literal notranslate"><span class="pre">PlayerOWin</span></code> contain all
the positions that contributed to the victory. Usually, there will be three items
in this set representing a row, column, or diagonal. However, there are some
situations as <a class="reference internal" href="singlepage.html#fig-example-wining-games"><span class="std std-numref">Figure 3.1</span></a> where more than three squares
can contribute to a victory.</p>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Clone</p></li>
<li><p>Debug</p></li>
<li><p>Eq</p></li>
</ul>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-know-victory-squares-story"><span class="std std-ref">Know Squares that Contributed to Player’s Victory</span></a></p></li>
</ul>
</div>
<div class="section" id="struct-free-positions">
<span id="index-3"></span><h5>4.1.1.3. Struct Free Positions<a class="headerlink" href="#struct-free-positions" title="Permalink to this headline">¶</a></h5>
<p>An iterator over free positions that do not have an owner. <a class="footnote-reference brackets" href="#iterators" id="id3">3</a></p>
<dl class="simple">
<dt>next()</dt><dd><p>Gets the next free position in the board, or None once all the free positions
have been returned.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Iterator</p></li>
</ul>
</div>
<div class="section" id="struct-invalid-move-error">
<span id="index-4"></span><h5>4.1.1.4. Struct Invalid Move Error<a class="headerlink" href="#struct-invalid-move-error" title="Permalink to this headline">¶</a></h5>
<p>Used to indicate moving to the indicated position is invalid. This could be due
to the position being owned or the game being over.</p>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Error</p></li>
</ul>
</div>
</div>
<div class="section" id="board-data">
<span id="index-5"></span><h4>4.1.2. Board Data<a class="headerlink" href="#board-data" title="Permalink to this headline">¶</a></h4>
<p>The board structure models a Tic Tac Toe game board. It maps the individual
positions to owners of the position. It provides functions to access and iterate
over each position. The board and square structures along with supporting types
are shown in <a class="reference internal" href="#uml-struct-board"><span class="std std-numref">Figure 4.5</span></a>.</p>
<div class="figure align-default" id="id10">
<span id="uml-struct-board"></span><p class="plantuml">
<img src="_images/plantuml-af5974dade9023a5ad6af1455e0efd198ef6ae7e.svg" alt="hide empty fields
hide empty methods

class Board {
    +new(Size)
    +size() -&gt; Size
    +contains(Position) -&gt; bool
    +get(Position) -&gt; Option&lt;Owner&gt;
    +get_mut(Position) -&gt; Option&lt;mut Owner&gt;
    +iter() -&gt; Iter
}

class Iter &lt;&lt; Iterator &gt;&gt; {
    +Item: (Position, Owner)
    +next() -&gt; Option&lt;Item&gt;
}

class Position {
    +row: i32
    +column: i32
}

enum Owner {
    PlayerX
    PlayerO
    None
}

class Size {
    +rows: i32
    +columns: i32
}

Board &quot;1..*&quot; *-- Position
Board &quot;1..*&quot; *-- Owner
Board *-- Size"/></p>
<p class="caption"><span class="caption-number">Figure 4.5 </span><span class="caption-text">The Board structure and supporting types.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="struct-board">
<h5>4.1.2.1. Struct Board<a class="headerlink" href="#struct-board" title="Permalink to this headline">¶</a></h5>
<p>Data structure representing the Tic Tac Toe board. Provides multiple ways to
access individual squares.</p>
<dl class="simple">
<dt>new()</dt><dd><p>Constructs a new board based on the given size. Panics if the size is less
than one row and one column.</p>
</dd>
<dt>size()</dt><dd><p>Gets the size of board, that is the number of rows and columns.</p>
</dd>
<dt>get()</dt><dd><p>Gets the owner of the provided position. None is returned if requested
position is outside the size of the board.</p>
</dd>
<dt>get_mut()</dt><dd><p>Gets a mutable reference ot the owner at the indicated position. This allows
the owner of the position to be changed. None is returned if requested
position is outside the size of the board.</p>
</dd>
<dt>iter()</dt><dd><p>Gets an iterator that iterates over all the squares in the board.</p>
</dd>
</dl>
<p>The board structure also implements the Display trait. This provides a formatted
output of the board and is suitable for use in simple console applications or
debugging purposes. An example of the boards display is shown in
<a class="reference internal" href="#code-example-board-display"><span class="std std-numref">Listing 4.1</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id11">
<span id="code-example-board-display"></span><div class="code-block-caption"><span class="caption-number">Listing 4.1 </span><span class="caption-text">Example board display output.</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>+---+---+---+
| X | O | O |
+---+---+---+
| O | X |   |
+---+---+---+
| X |   | X |
+---+---+---+
</pre></div>
</div>
</div>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Display</p></li>
<li><p>Clone</p></li>
</ul>
</div>
<div class="section" id="struct-iter">
<span id="index-6"></span><h5>4.1.2.2. Struct Iter<a class="headerlink" href="#struct-iter" title="Permalink to this headline">¶</a></h5>
<p>Implements the iterator trait for iterating over all the positions and owner
pairs of the board.</p>
<dl class="simple">
<dt>next()</dt><dd><p>Gets a tuple containing the next position and owner of that position. None
is returned if the end of the board has been reached.</p>
</dd>
</dl>
</div>
<div class="section" id="struct-size">
<span id="index-7"></span><h5>4.1.2.3. Struct Size<a class="headerlink" href="#struct-size" title="Permalink to this headline">¶</a></h5>
<p>The size structure represents the size of the board in number of rows and columns.</p>
<dl class="simple">
<dt>rows</dt><dd><p>The number of rows in the board.</p>
</dd>
<dt>columns</dt><dd><p>The number of column in the board.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Debug</p></li>
<li><p>Copy</p></li>
<li><p>Clone</p></li>
<li><p>From&lt;(usize, usize)&gt;</p></li>
<li><p>Eq</p></li>
<li><p>Hash</p></li>
</ul>
</div>
<div class="section" id="struct-position">
<span id="index-8"></span><h5>4.1.2.4. Struct Position<a class="headerlink" href="#struct-position" title="Permalink to this headline">¶</a></h5>
<p>The position structure represents a specific board position denoted by row and
column.</p>
<dl class="simple">
<dt>row</dt><dd><p>The row associated with the position.</p>
</dd>
<dt>column</dt><dd><p>The column associated with the position.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Debug</p></li>
<li><p>Copy</p></li>
<li><p>Clone</p></li>
<li><p>From&lt;(usize, usize)&gt;</p></li>
<li><p>Eq</p></li>
<li><p>Hash</p></li>
</ul>
</div>
<div class="section" id="enum-owner">
<span id="index-9"></span><h5>4.1.2.5. Enum Owner<a class="headerlink" href="#enum-owner" title="Permalink to this headline">¶</a></h5>
<p>The owner enumeration indicates which player owns a position, if any.</p>
<dl class="simple">
<dt>PlayerX</dt><dd><p>Player X owns the position.</p>
</dd>
<dt>PlayerO</dt><dd><p>Player O owns the position.</p>
</dd>
<dt>None</dt><dd><p>No player owns the position.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Default</p></li>
<li><p>Debug</p></li>
<li><p>Copy</p></li>
<li><p>Clone</p></li>
<li><p>Eq</p></li>
<li><p>Hash</p></li>
</ul>
</div>
</div>
<div class="section" id="ai-opponent">
<span id="index-10"></span><h4>4.1.3. AI Opponent<a class="headerlink" href="#ai-opponent" title="Permalink to this headline">¶</a></h4>
<p>The AI opponent structure represents a computer controlled AI player. The AI
opponent structure is shown in <a class="reference internal" href="#uml-struct-ai-opponent"><span class="std std-numref">Figure 4.6</span></a>.</p>
<div class="figure align-default" id="id12">
<span id="uml-struct-ai-opponent"></span><p class="plantuml">
<img src="_images/plantuml-e9a3456759aa2198a0b42861591f3a7fe7568106.svg" alt="hide empty fields

class AIOpponent {
    +new(mistake_probability)
    +get_move(Game) -&gt; Option&lt;Position&gt;
}"/></p>
<p class="caption"><span class="caption-number">Figure 4.6 </span><span class="caption-text">AI Opponent structure.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>See <a class="reference internal" href="singlepage.html#document-design/ai-algorithms"><span class="doc">Artificial Intelligence Algorithms</span></a> for details on how the AI selects a position.</p>
<p class="rubric">Member Details</p>
<dl class="simple">
<dt>new()</dt><dd><p>Constructs a new AI opponent. The mistake probability indicates how likely
the AI will fail to consider various situations. A value of 0.0 makes the
AI play a perfect game. A value of 1.0 causes the AI to always pick a random
position. Values less than 0.0 are set to 0.0 and values greater than
1.0 are set to 1.0.</p>
</dd>
<dt>get_move()</dt><dd><p>Gets the position the AI opponent wishes to move based on the provided game.
None is returned if the game is over. The AI opponent never tries to select
an invalid position, that is a position that is not free.</p>
</dd>
</dl>
<p class="rubric">Trait Implementations</p>
<ul class="simple">
<li><p>Debug</p></li>
</ul>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-ai-player-story"><span class="std std-ref">AI Player</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-ai-difficulty-settings-story"><span class="std std-ref">AI Difficulty Settings</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="rustapiguidelines"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See the <a class="reference internal" href="singlepage.html#rust-api-guidelines" id="id4"><span>[Rust-API-Guidelines]</span></a> for details.</p>
</dd>
<dt class="label" id="clonecopy"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Rust’s clone and copy traits both serve to duplicate an object but
each goes about duplication in a different manner. Copy performs an operation
similar to <code class="docutils literal notranslate"><span class="pre">memcpy</span></code> where it just copies the bits of the object. Alternately,
Clone explicitly duplicates the object giving the programmer control over
what parts are cloned. For details see the discussion in
<a class="reference external" href="https://doc.rust-lang.org/std/clone/trait.Clone.html">Trait std::clone::Clone</a>.</p>
</dd>
<dt class="label" id="iterators"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Rust’s standard library documentation states “Iterators are
heavily used in idiomatic Rust code, so it’s worth becoming familiar
with them.” For details see <a class="reference internal" href="singlepage.html#rust-crate-std" id="id5"><span>[Rust-Crate-std]</span></a>.</p>
</dd>
</dl>
</div>
</div>
<span id="document-design/documentation"></span><div class="section" id="documentation">
<h3>4.2. Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<p>The Tic Tac Toe library provides API documentation to help developers use the
functionality provided by the library. This section describes how the documentation
is put together and published.</p>
<div class="section" id="documentation-comments">
<h4>4.2.1. Documentation Comments<a class="headerlink" href="#documentation-comments" title="Permalink to this headline">¶</a></h4>
<p>Rust supports storing the library’s documentation along side the source code using
documentation comments. <a class="footnote-reference brackets" href="#usefuldocs" id="id1">1</a> Each public item provided by the library
has corresponding documentation that describes why the item should be used.</p>
<p>Common sections include <strong>examples</strong>, <strong>panics</strong>, and <strong>errors</strong>. In particular,
Rust encourages every public type to have a corresponding example. The example
for the library’s top level module shows a getting started example that is a simple
yet complete Tic Tac Toe game that uses the APIs provided by the library.
Additionally, the example code is exercised as part of the library’s tests which
help developers detect if a public API has changed.</p>
<p>The <a class="reference internal" href="singlepage.html#document-design/continuous-integration"><span class="doc">Continuous Integration</span></a> system is configured to ensure all public
items are documented. Any public item that is not documented causes a build
error to be reported.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-stable-library-api-story"><span class="std std-ref">Stable Library API</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-detailed-library-documentation-story"><span class="std std-ref">Detailed Library Documentation</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-getting-started-example-story"><span class="std std-ref">Getting Started Example</span></a></p></li>
</ul>
</div>
<div class="section" id="change-log">
<span id="index-0"></span><h4>4.2.2. Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline">¶</a></h4>
<p>The library’s source code repository includes a <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code> file that describes
user visible changes to the library. For each release a new entry is added to
the change log that describes changes users might care about. <a class="footnote-reference brackets" href="#changelog" id="id2">2</a>
The change log also mentions how the library follows semantic versioning. <a class="footnote-reference brackets" href="#rfc1105" id="id3">3</a></p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-stable-library-api-story"><span class="std std-ref">Stable Library API</span></a></p></li>
</ul>
</div>
<div class="section" id="hosting">
<h4>4.2.3. Hosting<a class="headerlink" href="#hosting" title="Permalink to this headline">¶</a></h4>
<p>The packages’s <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code> uses the default <code class="docutils literal notranslate"><span class="pre">documentation</span></code> value which means
when the package is uploaded to crates.io, <a class="reference external" href="https://docs.rs">https://docs.rs</a> automatically builds
and hosts the library’s documentation.</p>
<p>The library’s source code repository <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file contains a link to this
documentation so developers can review the documentation without needing to
download and build the documentation themselves.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-detailed-library-documentation-story"><span class="std std-ref">Detailed Library Documentation</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="usefuldocs"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See the
<a class="reference external" href="https://doc.rust-lang.org/book/ch14-02-publishing-to-crates-io.html#making-useful-documentation-comments">Making Useful Documentation Comments</a>
section in the Rust Book which is part of <a class="reference internal" href="singlepage.html#rust-docs" id="id4"><span>[Rust-Docs]</span></a>. Additionally, there
is a <a class="reference external" href="https://rust-lang-nursery.github.io/api-guidelines/documentation.html">Documentation</a>
section in the <a class="reference internal" href="singlepage.html#rust-api-guidelines" id="id6"><span>[Rust-API-Guidelines]</span></a>.</p>
</dd>
<dt class="label" id="changelog"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>See <a class="reference external" href="https://keepachangelog.com/">https://keepachangelog.com/</a> for the format of the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code>
file and additional details / motivation for keeping a change log.</p>
</dd>
<dt class="label" id="rfc1105"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/rust-lang/rfcs/blob/master/text/1105-api-evolution.md">Rust RFC 1105 API Evolution</a>
describes semantic versioning as understood by Rust.</p>
</dd>
</dl>
</div>
</div>
<span id="document-design/distribution"></span><div class="section" id="distribution">
<h3>4.3. Distribution<a class="headerlink" href="#distribution" title="Permalink to this headline">¶</a></h3>
<p>This section describes how the Tic Tac Toe library is shared with others.</p>
<div class="section" id="mit-license">
<span id="index-0"></span><h4>4.3.1. MIT License<a class="headerlink" href="#mit-license" title="Permalink to this headline">¶</a></h4>
<p>The library’s code is released under the MIT license. <a class="footnote-reference brackets" href="#mitlicense" id="id1">1</a> The MIT
license is simple and allows for use with open source, commercial, or private projects.</p>
<p>The library’s source code repository contains a <code class="docutils literal notranslate"><span class="pre">LICENSE.txt</span></code> file that includes
the text of the MIT license. Additionally, the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file mentions the
this license.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-permissive-license-story"><span class="std std-ref">Permissive License</span></a></p></li>
</ul>
</div>
<div class="section" id="publishing-to-crates-io">
<span id="index-1"></span><h4>4.3.2. Publishing to crates.io<a class="headerlink" href="#publishing-to-crates-io" title="Permalink to this headline">¶</a></h4>
<p>Crates.io is the Rust community’s package registry. Uploading the Tic Tac Toe
package to cargo.io allows others to easily obtain the library using the Rust
package manager, Cargo.</p>
<p>See <a class="reference external" href="https://doc.rust-lang.org/cargo/reference/publishing.html">Publishing on crates.io</a>
for a step by step guide on how to publish a package. This includes a list of mandatory
metadata that <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code> must contain and how to upload the package.</p>
<p>The library’s source code repository <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file contains a link to the
crates.io for the library.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-available-on-crates-io-story"><span class="std std-ref">Available on crates.io</span></a></p></li>
</ul>
</div>
<div class="section" id="github-repository">
<span id="index-2"></span><h4>4.3.3. GitHub Repository<a class="headerlink" href="#github-repository" title="Permalink to this headline">¶</a></h4>
<p>The library’s source code is available on GitHub so others can clone and modify
the code as they wish. The repository is named after the library. Additionally,
the <code class="docutils literal notranslate"><span class="pre">repository</span></code> value in the packages’s <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code> file points to this
repository.</p>
<p>GitHub also takes care of the library’s bug tracker.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-source-available-on-github-story"><span class="std std-ref">Source Available on GitHub</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="mitlicense"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>For details on the MIT license see
<a class="reference external" href="https://choosealicense.com/licenses/mit/">Choose an open source license - MIT License</a>.</p>
</dd>
</dl>
</div>
</div>
<span id="document-design/ai-algorithms"></span><div class="section" id="artificial-intelligence-algorithms">
<span id="index-0"></span><h3>4.4. Artificial Intelligence Algorithms<a class="headerlink" href="#artificial-intelligence-algorithms" title="Permalink to this headline">¶</a></h3>
<p>The AI algorithms are responsible for picking a square to place the AI player’s mark. <a class="footnote-reference brackets" href="#ainame" id="id1">1</a>
It does this by doing a depth first search for all possible game outcomes based
on the current state of the game board. An example is shown in
<a class="reference internal" href="#fig-ai-depth-first-search-example"><span class="std std-numref">Figure 4.7</span></a>.</p>
<div class="figure align-default" id="id5">
<span id="fig-ai-depth-first-search-example"></span><img alt="AI search tree example." src="_images/ai-depth-first-search-example.svg" /><p class="caption"><span class="caption-number">Figure 4.7 </span><span class="caption-text">Example dept first search algorithm looking for possible Tic Tac Toe game
outcomes. The AI player is playing as X and the opponent is playing as O.
The possible outcomes of selecting a particular square are marked with W for
win, L for loss, and C for cat’s game.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>The algorithm selects a free position then traverses the tree looking for one of the
end game conditions: win, loss, or cat’s game. Once the end of the game is found,
the result is propagated up the tree. The algorithm assumes the opponent will
play a perfect game. That is, if a specific position leads for both a win for the
opponent (a loss for the AI player) and a cat’s game, the algorithm marks that
position as a loss.</p>
<p>Once all possibilities have been searched, the algorithm picks the position that
lead to the best outcome. Winning positions are picked over cat’s games, and
cat’s games are picked over losses. Additionally, if there are multiple positions
with the same outcome, one is picked at random to ensure the game appears more
natural to human players. <a class="footnote-reference brackets" href="#funai" id="id2">2</a></p>
<p>The depth search algorithm can see to the end of the game, thus it cannot be beat.
The best possible outcome is a cat’s game. Therefore, to give human players a
chance to win, the algorithm sometimes fails to consider one of the outcomes.
The probability of making a mistake is configurable.</p>
<div class="section" id="ai-logic-details">
<h4>4.4.1. AI Logic Details<a class="headerlink" href="#ai-logic-details" title="Permalink to this headline">¶</a></h4>
<p>There are two main parts to the AI’s logic. A high level part examines the
state of the game and picks the best move and a low level part that
evaluates the outcome of picking a specific position. The best way
to examine this logic is to look at some pseudo code.</p>
<p>The pseudo code in <a class="reference internal" href="#code-ai-move"><span class="std std-numref">Listing 4.2</span></a> examines the overall state of the game
and returns the best position for the AI to place its mark.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<span id="code-ai-move"></span><div class="code-block-caption"><span class="caption-number">Listing 4.2 </span><span class="caption-text">Pseudo code for examining game state and picking the best move.</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ai_move</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">mistake_probability</span><span class="p">):</span>
    <span class="c1"># Determine which player the AI is playing as.</span>
    <span class="n">ai_player</span> <span class="o">=</span> <span class="n">get_ai_player</span><span class="p">(</span><span class="n">game</span><span class="o">.</span><span class="n">state</span><span class="p">())</span>

    <span class="c1"># For each free square, evaluate the consequences of using</span>
    <span class="c1"># that square. The outcome for each position and the position</span>
    <span class="c1"># is recorded.</span>
    <span class="n">outcomes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">game</span><span class="o">.</span><span class="n">free_positions</span><span class="p">():</span>
         <span class="n">outcomes</span> <span class="o">=</span> <span class="n">evaluate_position</span><span class="p">(</span>
            <span class="n">position</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">ai_player</span><span class="p">,</span> <span class="n">mistake_probability</span><span class="p">)</span>
         <span class="n">outcomes</span><span class="o">.</span><span class="n">push</span><span class="p">((</span><span class="n">outcome</span><span class="p">,</span> <span class="n">position</span><span class="p">))</span>

    <span class="c1"># Return the best position based on the outcomes.</span>
    <span class="k">return</span> <span class="n">best_position</span><span class="p">(</span><span class="n">outcomes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>There are several notable items in this pseudo code. The <code class="docutils literal notranslate"><span class="pre">get_ai_player()</span></code>
function indicates which player the AI is playing as, X or O, based on the
current state of the game. <a class="footnote-reference brackets" href="#aiplayernew" id="id3">3</a> It panics if the game is over. The
resulting variant is passed to the lower level <code class="docutils literal notranslate"><span class="pre">evaluate_game()</span></code> function.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">best_position()</span></code> function takes the collection of outcome and position
tuples and picks a position with the best outcome. The ordering of outcomes from
best to worst are: <code class="docutils literal notranslate"><span class="pre">Win</span></code>, <code class="docutils literal notranslate"><span class="pre">CatsGame</span></code>, <code class="docutils literal notranslate"><span class="pre">Unknown</span></code>, <code class="docutils literal notranslate"><span class="pre">Loss</span></code>. A cats game is
considered better than unknown as the AI would rather have the game end in a draw than
risk a loss. If there are multiple positions with the same outcome, one of the
positions is picked at random.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">evaluate_position()</span></code> function is responsible for evaluate a specific position.
<a class="reference internal" href="#code-evaluate-position"><span class="std std-numref">Listing 4.3</span></a> shows the pseudo for this function.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<span id="code-evaluate-position"></span><div class="code-block-caption"><span class="caption-number">Listing 4.3 </span><span class="caption-text">Pseudo code for evaluating a specific position.</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">evaluate_position</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">ai_player</span><span class="p">,</span> <span class="n">mistake_probability</span><span class="p">):</span>
    <span class="c1"># Check to see if the AI should make a mistake given the</span>
    <span class="c1"># mistake probability. If so, don&#39;t consider this position.</span>
    <span class="k">if</span> <span class="n">should_make_mistake</span><span class="p">(</span><span class="n">mistake_probability</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Outcome</span><span class="o">.</span><span class="n">Unknown</span>

    <span class="c1"># Clone the game so this function can try out the move without</span>
    <span class="c1"># modifying the original game.</span>
    <span class="n">game</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
    <span class="n">game</span><span class="o">.</span><span class="n">do_move</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>

    <span class="c1"># Check to see if the game is over. If so, return the</span>
    <span class="c1"># outcome of the game from the AI&#39;s perspective,</span>
    <span class="c1"># e.g. win, loss, or cat&#39;s game.</span>
    <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">state</span><span class="p">()</span><span class="o">.</span><span class="n">is_game_over</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">game_state_to_ai_outcome</span><span class="p">(</span><span class="n">game</span><span class="o">.</span><span class="n">state</span><span class="p">(),</span> <span class="n">ai_player</span><span class="p">)</span>

    <span class="c1"># The game is not over, to evaluate each of the remaining</span>
    <span class="c1"># free squares. Note: the game automatically takes care of</span>
    <span class="c1"># switching between player X&#39;s and player O&#39;s turn.</span>
    <span class="n">outcomes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">game</span><span class="o">.</span><span class="n">free_positions</span><span class="p">():</span>
        <span class="n">outcome</span> <span class="o">=</span> <span class="n">evaluate_position</span><span class="p">(</span>
            <span class="n">position</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">ai_player</span><span class="p">,</span> <span class="n">mistake_probability</span><span class="p">)</span>
        <span class="n">outcomes</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span>

    <span class="c1"># The AI assumes the other player plays a perfect game,</span>
    <span class="c1"># so return the worst outcome that was found.</span>
    <span class="k">return</span> <span class="n">worst_outcome</span><span class="p">(</span><span class="n">outcomes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p id="index-1">The <code class="docutils literal notranslate"><span class="pre">should_make_mistake()</span></code> function takes the mistake probability and returns
<code class="docutils literal notranslate"><span class="pre">true</span></code> if the algorithm should skip examining this branch of the tree. The
<code class="docutils literal notranslate"><span class="pre">Unknown</span></code> outcome is used for parts of the tree that are skipped.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">game_state_to_ai_outcome()</span></code> function is responsible for converting one of
the game over states into an AI outcome. That is: one of <code class="docutils literal notranslate"><span class="pre">Win</span></code>, <code class="docutils literal notranslate"><span class="pre">Loss</span></code>, or
<code class="docutils literal notranslate"><span class="pre">CatsGame</span></code>. It uses the <code class="docutils literal notranslate"><span class="pre">ai_player</span></code> to know what player the AI is playing as.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">worst_outcome()</span></code> function takes the outcomes from all the positions and
returns the worst possible one for the AI player. The ordering of outcomes
returned are: <code class="docutils literal notranslate"><span class="pre">Loss</span></code>, <code class="docutils literal notranslate"><span class="pre">CatsGame</span></code>, <code class="docutils literal notranslate"><span class="pre">Win</span></code>, <code class="docutils literal notranslate"><span class="pre">Unknown</span></code>. Unknown is returned
only if other information was not obtained about the position.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ordering of outcomes used by <code class="docutils literal notranslate"><span class="pre">worst_outcome()</span></code> is different than
different than <code class="docutils literal notranslate"><span class="pre">best_position()</span></code>.</p>
</div>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-ai-player-story"><span class="std std-ref">AI Player</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-ai-difficulty-settings-story"><span class="std std-ref">AI Difficulty Settings</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="ainame"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The name of the AI player is Robbert, or Bob for short.</p>
</dd>
<dt class="label" id="funai"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>One of the challenges of creating AI for video games is the AI needs
to be fun. An AI that picked the same square every time would not be fun!
See <a class="reference internal" href="singlepage.html#buckland-2004" id="id4"><span>[Buckland-2004]</span></a> for a discussion on making game AI fun.</p>
</dd>
<dt class="label" id="aiplayernew"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Rust enums support methods, so <code class="docutils literal notranslate"><span class="pre">get_ai_player()</span></code> could actually be
implemented as <code class="docutils literal notranslate"><span class="pre">fn</span> <span class="pre">new(state:</span> <span class="pre">GameState)</span> <span class="pre">-&gt;</span> <span class="pre">AIPlayer</span></code> for the
<code class="docutils literal notranslate"><span class="pre">AIPlayer</span></code> enum.</p>
</dd>
</dl>
</div>
</div>
<span id="document-design/continuous-integration"></span><div class="section" id="continuous-integration">
<span id="index-0"></span><h3>4.5. Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h3>
<p>The Tic Tac Toe library uses the <a class="reference external" href="https://travis-ci.com/">Travis CI</a>
continuous integration system to build and test every commit on a variety of
platforms. <a class="footnote-reference brackets" href="#multios" id="id1">1</a> This ensures potential problems are found as soon as possible.</p>
<p>The continuous integration system also enforces additional rules such as requiring
the project have fully documented public APIs and contain no unused code.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> included in the library’s source code repository tells Travis CI
how to build and test the code. The <a class="reference external" href="https://docs.travis-ci.com/user/tutorial/">Travis CI Tutorial</a>
provides a starting point on how to create the <code class="docutils literal notranslate"><span class="pre">.travis.yml</span></code> file.</p>
<p>The library’s source code repository <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file contains a link to the
Travis CI build page and includes a badge that indicates if the build is passing
or failing.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-stable-library-api-story"><span class="std std-ref">Stable Library API</span></a></p></li>
<li><p><a class="reference internal" href="singlepage.html#ref-cross-platform-support-story"><span class="std std-ref">Cross Platform Support</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="multios"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See <a class="reference external" href="https://docs.travis-ci.com/user/multi-os/">Testing Your Project on Multiple Operating Systems</a>.</p>
</dd>
</dl>
</div>
<span id="document-design/benchmarking"></span><div class="section" id="benchmarking">
<span id="index-0"></span><h3>4.6. Benchmarking<a class="headerlink" href="#benchmarking" title="Permalink to this headline">¶</a></h3>
<p>The library provides a benchmark of the worst case AI update time allowing
users of the library to evaluate if the library fits in with their performance
goals. Cargo contains built in benchmark support: any tests that have the
<code class="docutils literal notranslate"><span class="pre">bench</span></code> attribute are exercised by running <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">bench</span></code>. <a class="footnote-reference brackets" href="#rustbenchmark" id="id1">1</a>
<a class="reference internal" href="#code-ai-move-benchmark"><span class="std std-numref">Listing 4.4</span></a> shows an example of benchmarking the worst
case AI move.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<span id="code-ai-move-benchmark"></span><div class="code-block-caption"><span class="caption-number">Listing 4.4 </span><span class="caption-text">Example worst case AI move benchmark.</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="cp">#[bench]</span><span class="w"></span>
<span class="k">fn</span> <span class="nf">worst_case_ai_move_benchmark</span><span class="p">(</span><span class="n">b</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Bencher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Game</span>::<span class="n">new</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">mistake_probability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">b</span><span class="p">.</span><span class="n">iter</span><span class="p">(</span><span class="o">||</span><span class="w"> </span><span class="n">AIMove</span>::<span class="n">new</span><span class="p">(</span><span class="n">game</span><span class="p">,</span><span class="w"> </span><span class="n">mistake_probability</span><span class="p">));</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
<p>The worst case update time is for a new game and a zero percent mistake probability.
Under this situation the <a class="reference internal" href="singlepage.html#document-design/ai-algorithms"><span class="doc">Artificial Intelligence Algorithms</span></a> have to evaluate the entire
problem space.</p>
<p>The library’s source code repository <code class="docutils literal notranslate"><span class="pre">README.md</span></code> file contains instructions on
how to run the benchmarks.</p>
<p class="rubric">Related Requirements</p>
<ul class="simple">
<li><p><a class="reference internal" href="singlepage.html#ref-maximum-ai-update-time-story"><span class="std std-ref">Maximum AI Update Time</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="rustbenchmark"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>See <a class="reference external" href="https://doc.rust-lang.org/1.7.0/book/benchmark-tests.html">Benchmark tests</a> for details.</p>
</dd>
</dl>
</div>
</div>
</div>
<span id="document-glossary"></span><div class="section" id="glossary">
<h2>5. Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary simple">
<dt id="term-api">API</dt><dd><p>Acronym for <a class="reference internal" href="#term-application-programming-interface"><span class="xref std std-term">application programming interface</span></a>.</p>
</dd>
<dt id="term-application-programming-interface">application programming interface</dt><dd><p>The interface provided by a <a class="reference internal" href="#term-library"><span class="xref std std-term">library</span></a> for use by a software application.
This is composed by the public functions and types provided by the library.</p>
</dd>
<dt id="term-cargo">Cargo</dt><dd><p>Cargo is <a class="reference internal" href="#term-rust-programming-language"><span class="xref std std-term">Rust’s</span></a> build system and
package manager.</p>
</dd>
<dt id="term-cargo-toml">Cargo.toml</dt><dd><p>The configuration file for <a class="reference internal" href="#term-cargo"><span class="xref std std-term">Cargo</span></a>. This allows developers to
specify their projects metadata and dependencies.</p>
</dd>
<dt id="term-cat-s-game">cat’s game</dt><dd><p>Term used when a game of Tic Tac Toe ends in a draw where there is no winner.</p>
</dd>
<dt id="term-crate">crate</dt><dd><p>Rust’s term for an application binary or library.</p>
</dd>
<dt id="term-idiomatic-coding">idiomatic coding</dt><dd><p>Idiomatic coding is using familiar conventions, techniques, and practices
of a particular programming language.</p>
</dd>
<dt id="term-library">library</dt><dd><p>A collection of pre-written software functionality that can be used by
other applications.</p>
</dd>
<dt id="term-ounce-of-rust">Ounce of Rust</dt><dd><p>The code name for the project to make a <a class="reference internal" href="#term-rust-programming-language"><span class="xref std std-term">Rust</span></a>
based Tic Tac Toe library. The etymology comes from how a Tic Tac
Toe board is similar to a pound sign ( # ) but this project for making
just a part of full game: an ounce is part of a pound.</p>
</dd>
<dt id="term-package">package</dt><dd><p>An organized collection of software components. In Rust, a package is a
collection of <a class="reference internal" href="#term-crate"><span class="xref std std-term">crates</span></a>.</p>
</dd>
<dt id="term-rust-programming-language">Rust programming language</dt><dd><p>Rust is a systems programming language with a focus on safety and speed.
Website: <a class="reference external" href="https://www.rust-lang.org/">https://www.rust-lang.org/</a></p>
</dd>
<dt id="term-semantic-versioning">semantic versioning</dt><dd><p>A set of rules governing how API version numbers are managed and updated
with the goal of clearly communicating when incompatible changes,
new features, and bug fixes made. For details see <a class="reference external" href="https://semver.org/">https://semver.org/</a>.</p>
</dd>
</dl>
</div>
<span id="document-references"></span><div class="section" id="references">
<h2>6. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
</div>
<dl class="citation">
<dt class="label" id="berezin-1999"><span class="brackets">Berezin-1999</span></dt>
<dd><p>Tanya Berezin (1999) <em>Writing a Software Requirements Document</em>.
Retrieved from <a class="reference external" href="https://eecs.ceas.uc.edu/~cpurdy/sefall10/ReqsDoc.pdf">https://eecs.ceas.uc.edu/~cpurdy/sefall10/ReqsDoc.pdf</a>
(<a class="reference external" href="https://web.archive.org/web/20190922201012/https://eecs.ceas.uc.edu/~cpurdy/sefall10/ReqsDoc.pdf">archived on archive.org</a>)</p>
</dd>
<dt class="label" id="buckland-2004"><span class="brackets">Buckland-2004</span></dt>
<dd><p>Mat Buckland (2004) <em>Programming Game AI by Example</em></p>
</dd>
<dt class="label" id="rust-docs"><span class="brackets">Rust-Docs</span></dt>
<dd><p><em>Rust Documentation</em>. Available online at <a class="reference external" href="https://www.rust-lang.org/learn">https://www.rust-lang.org/learn</a>
and on any system with Rust installed by running <code class="docutils literal notranslate"><span class="pre">rustup</span> <span class="pre">doc</span></code>.</p>
</dd>
<dt class="label" id="rust-crate-std"><span class="brackets">Rust-Crate-std</span></dt>
<dd><p><em>Crate std - The Rust Standard Library</em>. Retrieved from <a class="reference external" href="https://doc.rust-lang.org/std/index.html">https://doc.rust-lang.org/std/index.html</a></p>
</dd>
<dt class="label" id="rust-api-guidelines"><span class="brackets">Rust-API-Guidelines</span></dt>
<dd><p><em>Rust API Guidelines</em>. Retrieved from <a class="reference external" href="https://rust-lang-nursery.github.io/api-guidelines/">https://rust-lang-nursery.github.io/api-guidelines/</a>
(<a class="reference external" href="https://github.com/rust-lang-nursery/api-guidelines">source on GitHub</a>)</p>
</dd>
</dl>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="singlepage.html#document-index">Ounce of Rust Project Manual</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-introduction">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-overview/index">2. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-requirements/index">3. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-design/index">4. Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-glossary">5. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlepage.html#document-references">6. References</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/j-richey/ounce-of-rust-manual">GitHub Source</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="singlepage.html#document-index">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, James Richey.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>